<!DOCTYPE html>
<head>
    <link href="./js-style.css" rel="stylesheet">
</head>
<body>

    <div class="page-header">
        <a class="page-link" href="../index.html">Library Index</a>
        <a class="page-link" href="./js-index.html">JS Index</a>
    </div>
            
    <div class='page-container'>
 
    <div class="chapter">
        <h1>Introduction To Functions</h1>
        <p>Functions allow code to be stored  within a defined block, which when called runs a simple task
            using a single short command. This saves typing the same code over and over. 
        </p>
        <p>Pretty much every time JS structure uses a pair of parathesis, excluding built-in language structure
            such as if...else, you're making use of a function. 
        </p>
    </div>

    <div class="chapter">
        <h1>Built-In Browser Functions</h1>
        <p>Some example in-build browser funcitons include:</p>
        <p class="code-block">
            let myTest = 'I am a string';<br>
            let new String = myTest.replace('string', 'sausage');<br>
            console.log(newString);<br>
        </p>
        <p>Here, the replace() function takes a string and replaces it with another.</p>
        <p class="code-block">
            let myArray = ["I", "love", "chocolate"];<br>
            let madeAString = myArray.join(' ');<br>
            console.log(madeAString);
        </p>
        <p>Here, the join() function takes an array and joins together the array items, returning a 
            new string. 
        </p>
        <p class="code-block">
            let myNumber = Math.random();
        </p>
        <p>Here, the random() function generates a random number between 0 and 1 and returns it.</p>
        <p>Technically speaking, a browser function isn't a function, it's a 'method'. This is because 
            methods are functions defined inside objects; build-in browser functions (i.e. 'Methods') and 
            variables (i.e. 'Properties') are stored inside structred objects to make code more efficient.</p>
    </div>

    <div class="chapter">
        <h1>Custom Functions</h1>
        <p>A function has parathesis following the function name, and is invoked to run the code within.
            As an example:
        </p>
        <p class="code-block">
            function myFunction() {<br>
                <ind>___</ind>alert('hello');<br>
            }
        </p>
        <p>This creates the function called myFunction. To invoke this function:</p>
        <p class="code-block">
            myFunction()
        </p>
        <p>You can also create a function with no name, known as an 'anonymous function'. For example:</p>
        <p class="code-block">
            function() {<br>
                <ind>___</ind>alert('hello');<br>
            }
        </p>
        <p>On it's own, this would do nothing. Generally, you would use an anonymous function in 
            conjunction with an event handler. For example, ths following would run when the associated
            button is pressed:
        </p>
        <p class='code-block'>
            var myButton = document.querySelector('button');<br>
            <br>
            myButton.onclick = function() {<br>
                <ind>___</ind>alert('hello');<br>
            }
        </p>
        <p>...where 'button' references a html < button > element.</p>
        <p>An anonymous function can also be assigned as the value of a variable, for example:</p>
        <p class='code-block'>
            var myGreeting = function() {<br>
                <ind>___</ind>alert('hello');<br>
            }
        </p>
        <p>This is invoked in the same way as if it were named:</p>
        <p class='code-block'>
            myGreeting();
        </p>
        <p>...and you can also assigned the function to be the value of other variables, like this:</p>
        <p class='code-block'>
            let anotherGreeting = myGreeting;
        </p>
        <p>...meaining that it can be invoked using either of:</p>
        <p class='code-block'>
            myGreeting();<br>
            anotherGreeting();
        </p>
        <p>...but it's not good practise to do that in general, as it is confusing. In most cases, an 
            anonymous function is used to run code in response to an event firing using an event handler,
            like a button being clicked.
        </p>
    </div>

    <div class='chapter'>
        <h1>Function Parameters</h1>
        <p>Some functions require parameters specifying when the function is invoked. These parameters are
            added within the function parenthesis. For example, the replace function (method) covered ealier
            requires two parameters; the existing substring and new substring. For example:
        </p>
        <p class="code-block">
            let myText = 'I am a string';<br>
            let newText = myText.replace('string', 'sausage');
        </p>
        <p>Some function parameters are optional as a default value is applicable. For example, 
            the join method covered earlier - if left blank, the join will use a comma by default. However, 
            you can specify what delimiting character to use in the parathesis. For example, to set a space
            between values rather than the default comma:
         </p>
         <p class='code-block'>
             let myArray = ['I','love','chocolate'];<br>
             let madeString = myArray.join(' ') // returns 'I love chocolate'<br>
             let madeString = myArray.join() // returns I,love,chocolate
         </p>
    </div>

    <div class='chapter'>
        <h1>Function Scope & Conflicts</h1>
        <p>Scope - an essential concept when dealing with functions.</p>
        <p>When a function is created, the variables and other things defined within the function are
            inside their own <b>scope</b>. This means that they are compartmentalised in their own little block
            of code, and they're unreachable from code outside of that function.
        </p>
        <p>The top level of code, outside of all functions, is known as the <b>global scope</b>. This code
            is accessible from anywhere else in the code.</p>
        <p>Keeping code locked away inside a function, not accessible from elsewhere, is primarily for 
            security and to avoid problems. For example, if you have a named variable that is not locked 
            away inside a function, and a third party linked to the page also as the same variable name, 
            we have a clash.
        </p>
    </div>

    <div class="chapter">
        <h1>Function Return Values</h1>
        <p>Return values are just that; values returned by a function when it completes. Some functions 
            return a value, such as the replace() method which returns a new variable with replaced substring.
            Others functions do not return a value
        </p>
        <p>A working example:</p>
        <input class="numberInput" type="text">
        <p class="numberOutput"></p>
        
        <!-- The JS below is for the working example -->

        <script>
            var input = document.querySelector('.numberInput');
            var parag = document.querySelector('numberOutput');

            function squared(num) {
                return num * num;
            }

            function cubed(num) {
                return num * num * num;
            }

            function factorial(num) {
                var x = num;
                while (x > 1) {
                    num *= x-1;
                    x--;
                }
                return num;
            }

            input.onchange = function() {
                var num = input.value;
                if (isNaN(num)) {
                    parag.textContent = 'You need to enter a number!';
                } else {
                    parag.textContent =  num + ' squared is ' + squared(num) + '. ' +
                                         num + ' cubed is ' + cubed(num) + '. ' +
                                         num + ' factorial is ' + factorial(num) + '.';
                }
            }
        </script>
    </div>

    <div class="chapter">
        <h1>Sources</h1>
        <p>For more on functions see: http://javascript.info/function-basics</p>
    </div>

    <div class='chapter'>
        <h1>Function Expressions</h1>
        <p>The functions covered previously are knwon as <i>Function Declarations</i>, where the
            syntax  is:</p>
        <p class='code-block'>
            function sayHi() {<br>
                <ind>___</ind>alert("Hello");<br>
            }
        </p>
        <p>Another syntax option for functions is a <i>Function Expression</i>:</p>
        <p class='code-block'>
            let sayHi = function() {<br>
                <ind>___</ind>alert("Hello");<br>
            };
        </p>
        <p>Here, and function is created and assigned to the variable 'sayHi'. Note that a function expression
            has a semi-colon at the end of it. This is because the syntax is a variable, so is essentially 
            'let sayHi = ...;'. A function declaration does not necessarily need a semi-colon at the end as this
            is just a code block, but there is no harm in doing so. 
        </p>
        <p>It is also possible to copy a function to a variable. For example:</p>
        <p class='code-block'>
            function sayHi() {<br>  
                <ind>___</ind>alert("Hello");<br>
            }<br>
            <br>
            let func = sayHi;<br>
            <br>
            func(); // returns 'Hello'<br>
            sayHi(); // returns 'Hello'
        </p>
        <p>Here, several things are happening:</p>
        <ol>
            <li>First, the function declaration is created.</li>
            <li>Next, the function is copied to the variable func. Note that:</li>
                <ul>
                    <li>There are no parenthesis after sayHi. This means that the function is assigned 
                        to the variable, and not the result of the function. 
                    </li>
                    <li>If the parenthesis was there and it said sayHi(), then the result of the function 
                        would be assigned to variable func.
                    </li>
                </ul>
            <li>The function can either be called using the original function, sayHi(), or the new 
                variable func().</li>
        </ol>
    </div>

    <div class='chapter'>
        <h1>Callback Functions</h1>
        <p>callback functions are a way of calling back later if necessary.</p>
        <p>See the working example.</p>

                <!-- The code below is for the working example -->
        
        <script>

            // The below is an example callback function using a 'long' function declaration.

            function ask(question, yes, no) {
                if (confirm(question)) yes()
                else no();
            }

            function showOK() {             // Becomes the answer for yes in the ask function.
                alert("You agreed");
            }

            function showCancel() {         // Becomes the answer for no in the ask function.
                alert("You canceled the exectution");
            }

            ask("Do you agree?", showOK, showCancel);   // Defines the ask function parameters.

            // The below does the same, but is a shorter way to do using a function expression.

            function ask(question, yes, no) {
                if (confirm(question)) yes()
                else no();
            }

            ask(
                "Do you agree?",
                function() {alert("You agreed.");},
                function() {alert("you canceled the execution");}
            );
        </script>
    </div>

    <div class="chapter">
        <h1>Arrow Functions</h1>
        <p>Arrow functions do the same as function expressions, but a little simpler.</p>
        <p>An arrow function looks like this:</p>
        <p class='code-block'>
            let func = (arg1, arg2, ...argN) => expression
        </p>
        <p>... where a function with arguments is created, an expression is evaluated, and a result is
            returned. It's similar to the function expression below, but a little more concise: 
        </p>
        <p class='code-block'>
            let func = function(arg1, arg2, ...argN) {<br>
                <ind>___</ind>return expression;<br>
            };
        </p>
        <p>As an example arror function:</p>
        <p class='code-block'>
            let sum = (a, b) => a + b; <br>
            <br>
            alert(sum(1,2)); // returns '3'
        </p>
        <p>FYI, the longer function expression that does the same would be:</p>
        <p class='code-block'>
            let sum = function(a,b) {<br>
                <ind>___</ind>reutrn a + b;<br>
            };
        </p>
        <p>If there is only one argument, then no parenthesis are needed. For example:</p>
        <p class='code-block'>
            let double = n => n * 2;<br>
            <br>
            alert(double(3)); // returns '6'
        </p>
        <p>Or if there is no argument, then just empty parenthesis are required, like this:</p>
        <p class='code-block'>
            let sayHi = () => alert("Hello!");<br>
            <br>
            sayHi(); // returns "Hello!"
        </p>
    </div>

    </div>

</body>
