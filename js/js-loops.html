<!DOCTYPE html>
<head>
    <link href="./js-style.css" rel="stylesheet">
</head>
<body>

    <div class="page-header">
        <a class="page-link" href="../index.html">Library Index</a>
        <a class="page-link" href="./js-index.html">JS Index</a>
    </div>
    
    <div class='page-container'>

        <div class="page-title">
            <p>Loops</p>
        </div>
 
        <div class="chapter">
            <h1>Introduction to Loops</h1>
            <p>Loops are to do with doing the same thing over and over.</p>
            <p>A loop has some/all of the following features:</p>
            <ol>
                <li><b>Counter:</b> The starting value of the loop.</li>
                <li><b>Exit Condition:</b> The criteria at which the loop stops, usually when the counter 
                    reaches a certain value.
                </li>
                <li><b>Interator:</b> The step which increments the counters on each loop as it's run, until
                    the exit condition is reached.
                </li>
            </ol>
            <p>As an example:</p>
            <p class='code-block'>
                loop(foodCounter = 0; foodNeeded = 10) {<br>
                <ind>___</ind>if (foodCounter >= foodNeeded) {<br>
                <ind>______</ind>exit loop;<br>
                <ind>___</ind>} else {<br>
                <ind>______</ind>foodCounter += 2;<br>
                <ind>___</ind>}<br>
                }
            </p>
            <p>Note that the += operator assigns and adds the value of the variable on the right to
                the existing value on the left. So above, assign and add 2 to the existing foodCounter
                value.
            </p>
        </div>

        <div class="chapter">
            <h1>The "for" Loop</h1>
            <p>Typically, loops are created using the for keyword. The syntax is as follows:</p>
            <p class='code-block'>
                for (intialiser; exit-condition; final-expression){<br>
                <ind>___</ind> // code to run<br>
                }
            </p>
            <p>Where we have:</p>
            <ul>
                <li>The keyword <b>for</b> followed by parenthesis which contains three items:</li>
                    <ol>
                        <li><b>Initialiser: </b>Typically a variable set with a starting value for 
                          the loops; also known as the <b>counter</b>.</li>
                        <li><b>Exit Condition: </b>Defines when the loop should stop looping. Typically 
                          an expression with a comparison operator.</li>
                        <li><b>Final Expression: </b>Defines the expression to run each time the loop
                          has gone through an interation, typically incementing or decrementing the 
                          initialiser counter value, heading towards the exit condition value.</li>
                    </ol>
                <li>Curly braces which contains a block of code. This is the block of code which
                    runs during each loop iteration. 
                </li>
            </ul>
            <p>For example:</p>
            <p class='code-block'>
                const cats = ['Bill', 'Jeff', 'Pete', 'Biggles', 'Jasmin'];<br>
                let info = 'My cats are called: ';<br>
                const para = document.querySelector('p');<br>
                <br>
                for (let i = 0; i &lt cats.length; i++) {<br>
                <ind>___</ind>info += cats[i] + ', ';<br>
                }<br>
                <br>
                para.textContent = info;
            </p>
            <p>So breaking this down:</p>
            <ol>
                <li>The counter variable 'i' starts off at 0.</li>
                <li>The loop runs until the value of 'i' is no longer less than the length of the
                    'cats' array. Remember, the final array element has index ID 4; the length of 
                    the array is 5, so when the 'i' = 5 there is no index in the array, so no need 
                    to run and the loop can exit.
                </li>
                <li>Inside the loop, the code that runs concatenates the current array element from 
                    'cats[i]' with a comma then a space, onto the end of the 'info' variable. So:
                </li>
                    <ul>
                        <li>When first run, 'i' = 0, so [cats[0] + ', '] is concatenates onto the 
                            end of the 'info' variable. In this case, "Bill, " is added to 'info'. 
                            The final expression 'i++' increments the value of 'i' for the next run.                       
                        </li>
                        <li>Next run, 'i' = 1, so [cats[1] + ', '] is concatenates onto the end of the 
                            'info' variable, so "Jeff, " joins Bill.
                        </li>
                    </ul>
                <li>The loop continues until 'i' is no longer smaller than 'cats.length'.</li>
            </ol>
            <p>Within the html, this would return "My cats are called: Bill, Jeff, Pete, Biggles,
                Jasmin, "
            </p>
            <p>The above example just needs tidying up a little for in the 'real world', so that
                the list ends nicely. You can do this using a conditional within the loop like this:
            </p>
            <p class='code-block'>
                for (let i = 0; i  &lt cats.length; i++) {<br>
                <ind>___</ind>if (i === cats.length - 1) {<br>
                <ind>______</ind>info += 'and ' + cats[i] + '.';<br>
                <ind>___</ind>} else {<br>
                <ind>______</ind>info += cates[i] + ', '<br>
                <ind>___</ind>}<br>
                }
            </p>
            <p>Instead, this returns "My cats are called: Bill, Jeff, Pete, Biggles and Jasmin."</p>
        </div>

        <div class='chapter'>
            <h1>Exiting Loops With 'break'</h1>
            <p>If you need to exit a loop before all iterations are completed, you can use the 'break' 
                statement. Similar to how the 'break' statement is used with switch, 'break' also exits 
                the loop immediately.
            </p>
            <p>As an example, say you wanted to search an array of contact numbers and just return the 
                one required:
            </p>
            <p class='code-block'>
                // First the html<br>
                <br>
                &ltlabel for="search">Search by contact name: &lt/label><br>
                &ltinput id="search" type="text">
                &ltbutton>Search&lt/button>
                <br>
                &ltp class='contactOutput'>&lt/p>
                <br>
                // Next the JavaScript:
                const contacts = ['Chris:2232322', 'Sarah:3453456', 'Bill:7654322', 'Mary:9998769'
                  'Dianne:9384975'];<br>
                const para = document.querySelector('.contactOutput');<br>
                const input = document.querySelector('input');<br>
                const btn = document.querySelector('button');<br>
                <br>
                btn.addEventListener('click', function(){<br>
                <ind>___</ind>let searchName = input.value.toLowerCase();<br>
                <ind>___</ind>input.value = '';<br>
                <ind>___</ind>input.focus();<br>
                <ind>___</ind>for (let i = 0; i &lt contacts.length; i++) {<br>
                <ind>______</ind>let splitContact = contacts[i].split(':');<br>
                <ind>______</ind>if (splitContact[0].toLowerCase() === searchName) {<br>
                <ind>______</ind>para.textContent = splitContact[0] + '\'s number is ' + splitContact[1] + '.';<br>
                <ind>______</ind>break;<br>
                <ind>______</ind>} else {<br>
                <ind>______</ind>para.textContent = 'Contact not found.';<br>
                <ind>______</ind>}<br>
                <ind>___</ind>}<br>
                });
            </p>

            <!-- And in action... -->

                <label for="search">Search by contact name: </label><br>
                <input id="search" type="text">
                <button>Search</button>
                <br>
                <p class='contactOutput'></p>

                    
                <script>
                    const contacts = ['Chris:2232322', 'Sarah:3453456', 'Bill:7654322', 'Mary:9998769', 'Dianne:9384975'];
                    const para = document.querySelector('.contactOutput');
                    const input = document.querySelector('input');
                    const btn = document.querySelector('button');
                    
                    btn.addEventListener('click', function(){
                        let searchName = input.value.toLowerCase();
                        input.value = '';
                        input.focus();
                        for (let i = 0; i < contacts.length; i++) {
                            let splitContact = contacts[i].split(':');
                            if (splitContact[0].toLowerCase() === searchName) {
                                para.textContent = splitContact[0] + '\'s number is ' + splitContact[1] + '.';
                                break;
                            } else {
                                para.textContent = 'Contact not found.'
                            }
                        }
                    });
                </script>

            <!-- End -->

        <p>Here, the following is happening:</p>
        <ol>
            <li>First, we're assigning some variables. An array of contacts, and some links to the 
                html document.
            </li>
            <li>Next, an event listener is added to the button element, so when the button is clicked it
                kicks off the function shown.
            </li>
            <li>Within the function, the first step is to store the input string against variable 
                searchName, as lowercase. 
            </li>
            <li>The next two steps are tidying up the input, where:</li>
            <ul>
                <li>The input value entered by the user is removed and replaced with ''.</li>
                <li>The input field is focused on; i.e. the curser goes to the input field.</li>
            </ul>
            <li>After that, the loop is introduced, where:</li>
            <ul>
                <li>The counter starts at 0; the loops runs until the counter is no longer less than the 
                    length of the contacts array; the value of i increments by 1 after each loop.
                </li>
                <li>Inside the loop, the current contact, that is the one with index 'i' using 
                    contacts[i] is split at the colon, creating new array splitContact.
                </li>
                <li>A conditional statement then checks whether the lowercase of splitContact[0] 
                    is equal to the input searchName. If it is equal, the string shown is assigned to 
                    the paragraph and 'break' ends the loop.
                </li>
            </ul>
            <li>After (contacts.length - 1) iterations, if the contact name does not match the 
                paragragh shows that the contact is not found.
            </li>
        </ol>
        </div>

        <div class='chapter'>
        <h1>Skipping Iterations With continue</h1>
            <p>The 'continue' statement works similarly to the 'break' statement covered previously,
                but instead of breaking out of the loop, 'continue' skips to the next iteration of 
                the loop. 
            </p>
            <p class='code-block'>
                // The html is the same as the break statement example within input and para output.<br>
                <br>
                let num = input.value;<br>
                <br>
                for (let i = 1; 1 &lt= num; i++) {<br>
                <ind>___</ind>let sqRoot = Math.sqrt(i);<br>
                <ind>___</ind>if (Math.floor(sqRoot) !== sqRoot) {<br>
                <ind>______</ind>continue;<br>
                <ind>___</ind>}<br>
                <ind>___</ind>para.textContent += i + ' ';<br>
                }
            </p>
            <p>Here the following is happening:</p>
            <ol>
                <li>The input is a number 'num'. The 'for' loop then starts at 1, as this is the counter
                    given. The exit condition says that the loop will stop when the counter becomes bigger
                    than the input 'num'. The iterator adds 1 to the counter each time
                </li>
                <li>Inside the loop, Math.sqrt(i) finds the square root of i and checks whether it 
                    is an integer by testing whether it is the same as itself when it has been rounded to
                    the nearest integer using Math.floor().
                </li> 
                <li>If sqRoot and Math.floor(sqRoot) do not equal each other (!==), then we use the 
                    continue statement to just move on to the next iteration without recording the value
                    anywhere. 
                </li>
                <li>If (Math.floor(sqRoot) !== sqRoot) is false, meaning that they DO match each other, 
                    then the continue statement is bypassed, and the value of i is output against the html 
                    paragraph element with a space concatenated onto the end for the next potential 
                    result.
                </li>
            </ol>
        </div>

        <div class='chapter'>
            <h1>The 'while' Loop</h1>
            <p>'for' is not the only type of loop available in JS; there are many others too. As an
                example of another, we have the 'while' loop, where the syntax looks like this:
            </p>
            <p class='code-block'>
                initialiser<br>
                while (exit-condition) {<br>
                <ind>___</ind>// code to run<br>
                <br>
                <ind>___</ind>final-expression<br>
                }
            </p>
            <p>This works similar to 'for' loops, but instead the initialiser variable is set before 
                the loop and the final-expression is included within the loop after the code to run. 
                So they're not included inside parenthesis unlike 'for'. The exit-condition is included 
                inside the parenthesis preceeded by 'while'.
            </p>
            <p>Using the cats example again:</p>
            <p class='code-block'>
                let i = 0;<br>
                <br>
                while (i &lt catslength) {<br>
                <ind>___</ind>if (i === cats.length - 1) {<br>
                <ind>______</ind>info += 'and ' + cats[i] + '.';<br>
                <ind>___</ind>} else {<br>
                <ind>______</ind>info += cats[i] = ' ,';<br>
                }<br>
                <br>
                i++;<br>
                }
            </p>
        </div>

        <div class='chapter'>
            <h1>The 'do ... while' Loop</h1>
            <p>The 'do ... while' loops is very similar, but provides a variation on the while 
                structure. The syntax is: 
            </p>
            <p class='code-block'>
                initialiser<br>
                do {<br>
                <ind>___</ind>// code to run<br>
                <br>
                <ind>___</ind>final-expression<br>
                } while (exit-condition)
            </p>
            

            CARRY ON FROM: In this case, the initializer again comes first, before the loop starts. The keyword directly precedes the curly braces containing the code to run and the final expression.

        </div>
    
    
    </div>

</body>
